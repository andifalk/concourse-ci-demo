<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">


		<title>Concourse CI</title>
        <meta name="description" content="Concourse CI">
        <meta name="author" content="Andreas Falk">

        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">

        <link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/novatec.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">

                <!-- Introduction -->
                <section>
                    <section>
                        <h2>Concourse CI</h4>
                        <p><a href="https://github.com/andifalk/concourse-ci-demo">Presentation and Demos: https://github.com/andifalk/concourse-ci-demo</a></p>
                        <p><small>Andreas Falk</small></p>
                        <img src="images/concourse-black.png" class="plain" width="40%">
                    </section>
                    <section>
                        <img src="images/andreas_falk.jpg" class="plain" width="35%">
                        <h4>Andreas Falk</h4>
                        <small>
                            <p><strong>Novatec Consulting GmbH</strong></p>
                            </p>andreas.falk@novatec-gmbh.de / @andifalk (Twitter)<br>
                            <br><a href="https://www.novatec-gmbh.de">https://www.novatec-gmbh.de</a><br>
                            <img src="images/novatec_logo_big.png" class="plain" width="40%">
                        </small>
                    </section>
                </section>

                <!-- Concourse CI Principles and Architecture-->
                <section>
                    <section>
                        <h2>What is Concourse CI</h2>
                        <figure>
                        <blockquote cite="https://concourse-ci.org">&ldquo;Concourse presents a general approach to automation that makes it great for CI/CD&rdquo;</blockquote>
                        <figcaption>https://concourse-ci.org</figcaption>
                        </figure>    
                    </section>
                    <section>
                        <h2>Concourse CI Features</h2>
                        <p>Native Visualized Pipelines</p>
                        <p>Configuration As Code</p>
                        <p>Clean Isolation By Using Containers</p>
                        <p>Administration Via Command Line</p>
                    </section>
                    <section>
                        <h1>Concourse CI Concepts</h2>
                    </section>
                    <section>
                        <h2>Pipeline</h2>
                        <img src="images/concourse_concepts.png" class="plain" width="75%">    
                    </section>
                    <section>
                        <h2>Resource</h2>
                        <p>Connect Concourse CI to the outside world</p>
                        <img src="images/concourse_resource.png" class="plain" width="100%">    
                    </section>
                    <section>
                        <h2>Resource Types</h2>
                        <h4>Provided</h4>
                        <p>Git: Pull/push from/to git repository</p>
                        <p>S3: Get and upload from/to AWS S3</p>
                        <p>CF: Deploy an application to Cloud Foundry</p>
                        <h4>Community</h4>
                        <p>Artifactory: Get/upload artifacts from/to Artifactory</p>
                        <p>Kubernetes: Apply kubectl actions</p>
                    </section>
                    <section>
                        <h2>Task</h2>
                        <p>Pure Function</p>
                        <img src="images/concourse_task.png" class="plain" width="100%">    
                    </section>
                    <section>
                        <h3>Hello World task</h3>
                        <p>task-helloworld.yml</p>
                        <pre><code class="yaml" data-trim>
                                ---
                                platform: linux

                                image_resource:
                                    type: docker-image
                                    source: {repository: alpine}

                                run:
                                    path: echo
                                    args: ["Hello, world!"]
                        </code></pre>
                    </section>
                    <section>
                        <h3>Hello World Pipeline</h3>
                        <p>pipeline-helloworld.yml</p>
                        <pre><code class="yaml" data-trim>
                                jobs:
                                    - name: hello-world
                                    plan:
                                    - task: say-hello
                                        file: task-helloworld.yml
                        </code></pre>
                    </section>    
                    <section>
                        <h3>Hello World Pipeline (Inline)</h3>
                        <p>pipeline-helloworld-inlined.yml</p>
                        <pre><code class="yaml" data-trim>
                                jobs:
                                - name: hello-world
                                  plan:
                                  - task: say-hello
                                    config:
                                      platform: linux
                                      image_resource:
                                        type: docker-image
                                        source: {repository: alpine}
                                      run:
                                        path: echo
                                        args: ["Hello, world!"]
                        </code></pre>
                    </section>
                    <section>
                        <h3>Concourse Architecture</h3>
                        <img src="images/concourse_architecture.png" class="plain" width="100%">
                    </section>                    
                </section>

                <!-- Concourse Setup -->

                <section>
                    <section>
                        <h1>Setting up Concourse CI</h1>
                    </section>
                    <section>
                        <h2>Possible Options</h2>
                        <ol>
                            <li><a href="https://github.com/concourse/concourse#quick-start">Run with docker-compose</a></li>
                            <li><a href="https://concourse-ci.org/install.html#quickstart">Use Concourse quickstart</a></li>
                            <li><a href="https://concourse-ci.org/install.html#cluster">Set up a multi-node cluster</a></li>
                            <li><a href="https://github.com/EngineerBetter/concourse-up">Concourse Up (EngineerBetter)</a></li>
                            <li><a href="https://github.com/kubernetes/charts/tree/master/stable/concourse">Concourse Helm Chart (k8s)</a></li>
                            <li><a href="https://github.com/starkandwayne/bucc">BUCC (StarkAndWayne)</a></li>
                        </ol>
                    </section>
                    <section>
                        <h3>Run with docker-compose</h3>
                        <pre><code class="shell" data-trim>
                            $ wget https://concourse-ci.org/docker-compose.yml
                            $ docker-compose up
                        </code></pre>
                    </section>                    
                    <section>
                        <h3>Use Concourse quickstart</h3>
                        <p>Required: Installed PostgreSQL database</p>
                        <pre><code class="shell" data-trim>
                            $ concourse quickstart \
                              --add-local-user dev:dev \
                              --main-team-local-user dev \
                              --postgres-user concourse --postgres-password concourse \
                              --worker-work-dir /home/afa/concourse/worker \
                              --external-url http://192.168.178.27:8080 \
                              --worker-garden-dns-server 1.1.1.1
                        </code></pre>
                    </section>                    
                </section>

                <!-- Concourse CI Pipelines -->
                <section>
                    <section>
                        <h2>Concourse</h2>
                        <h2>Command Line</h2>
                        <h2>1x1</h2>
                    </section>
                </section>
                
                <!-- Concourse CI Security-->
                <section>
                    <section>
                        <h2>Concourse Security</h2>
                    </section>
                    <section>
                        <h2>Authentication Providers</h2>
                        <p>Local users</p>
                        <p>3rd party providers (GitHub, CF UAA)</p>
                    </section>
                    <section>
                        <h2>Authorization By Teams</h2>
                        <p>&ldquo;main&rdquo; team (Administration)</p>
                        <p>Further teams created/updated by &ldquo;main&rdquo; team</p>
                    </section>
                    <section>
                        <h2>Credentials in Concourse CI</h2>
                        <p><a>CredHub</a></p>
                        <p><a>Hashicorp Vault</a></p>    
                    </section>
                    <section>
                        <h2>Hashicorp Vault</h2>
                        <img src="images/vault-black.png" class="plain" width="60%">
                        <p>
                                &ldquo;A Security Swiss Army Knife&rdquo;
                            </p>
                            <p>Jeff Mitchell, Vault Lead, HashiCorp</p>
                        <a href="https://www.vaultproject.io/">https://www.vaultproject.io</a>
                    </section>
                    <section>
                        <h2>CredHub</h2>
                        <p>CredHub manages credentials like passwords, certificates, certificate authorities, ssh keys, rsa keys and arbitrary values</p>
                        <a href="https://github.com/cloudfoundry-incubator/credhub">https://github.com/cloudfoundry-incubator/credhub</a>
                    </section>
                </section>

                <!-- Conclusion -->

                <section>
                    <section>
                        <h1>Q&A</h1>
                        <p>https://www.novatec-gmbh.de<br>
                        https://blog.novatec-gmbh.de</p>
                        <p>andreas.falk@novatec-gmbh.de</p>
                        <p>@andifalk</p>
                        <img src="images/it_tage_2018.png" class="plain" width="20%">
                        <br><small>IT-Tage 2018 (Frankfurt)<br>12.12.2018<br><a href="https://www.ittage.informatik-aktuell.de/programm/2018/continuous-delivery-pipelines-mit-concourse-ci/">Continuous Delivery-Pipelines mit Concourse CI</a></small></br>
                    </section>
                    <section>
                        <h2>References</h2>
                        <small>
                            <ul>
                                <li><a href="https://concourse-ci.org">Concourse CI (https://concourse-ci.org)</a></li>
                                <li><a href="https://www.vaultproject.io">Vault (https://www.vaultproject.io)</a></li>
                                <li><a href="https://github.com/andifalk/concourse-ci-demo">Sources and Presentation (https://github.com/andifalk/concourse-ci-demo)</a></li>
                            </ul>
                            <p>All images used are from <a href="https://pixabay.com/">Pixabay</a> and are published under <a href="http://creativecommons.org/publicdomain/zero/1.0/deed.en">Creative Commons CC0 license.</a></p>
                            All used logos are trademarks of corresponding companies
                        </small>
                    </section>
                </section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>


		<script>
			Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,
                pdfMaxPagesPerSlide: 1,
                allottedTime: 45 * 60 * 1000, // 45 minutes
                parallaxBackgroundImage: 'images/background_normal.jpg',
                parallaxBackgroundSize: '76%',
                parallaxBackgroundHorizontal: 0,
                parallaxBackgroundVertical: 0,

                transition: 'slide', // none/fade/slide/convex/concave/zoom
				dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
                    { src: 'plugin/print-pdf/print-pdf.js' },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true },
                    { src: 'plugin/tagcloud/tagcloud.js', async: true },
                    { src: 'plugin/elapsed-time-bar/elapsed-time-bar.js'},
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() {
					    hljs.initHighlightingOnLoad(); }
					}
				]
			});
            Reveal.configure({ slideNumber: 'c/t' });
		</script>
	</body>
</html>
